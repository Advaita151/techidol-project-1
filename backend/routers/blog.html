<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
  </head>
  <body class="flex bg-gradient-to-r from-cyan-500 to-blue-500 ">
    
    <div class="mx-auto mt-32  border border-solid border-black rounded-md shadow-2xl w-1/2 bg-sky-300">
        <div class="bg-sky-300">
            <div class="bg-sky-400 h-12 ">
                <h1 class="text-2xl text-sky-900 mx-3 font-bold">Submit a Blog Post</h1>
            </div> 
            <hr class="border-solid border-black">
            <form id="blogPostForm" class="mt-3 mx-3 ">
                <input class="w-full h-12 bg-sky-200 rounded-md" type="text" id="title" name="title" placeholder="Title" required /><br />

                
                <textarea class="w-full h-56 border-none mt-3 bg-sky-200 rounded-md" id="content" name="content" required placeholder="Content"></textarea><br />
                
                <button type="submit" class="flex mx-56 mt-3 w-1/4 bg-sky-500 rounded-md mb-3">
                    <div class="mx-auto">
                        Submit
                    </div>
                </button>
            </form>
        </div>
    </div>
    
    <script>
      document
        .getElementById("blogPostForm")
        .addEventListener("submit", async function (event) {
          event.preventDefault();

          const title = document.getElementById("title").value;
          const content = document.getElementById("content").value;
          const author = document.getElementById("author").value;

          try {
            const response = await fetch("/blog", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                title,
                content,
                author,
              }),
            });

            if (response.ok) {
              alert("Blog post submitted successfully!");
              
            } else {
              alert("Failed to submit blog post. Please try again later.");
            }
          } catch (error) {
            console.error(error);
            alert("An error occurred while submitting the blog post.");
          }
        });
    </script>
  </body>
</html>
